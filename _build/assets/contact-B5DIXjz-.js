import{g as x,a as _,i as a,t as y,e as M,u as b,c as A}from"./web-y9Kcdmxi.js";import{n as G}from"./main.modern-BhBL8ptw.js";import{b as f,p as Y,j as N,S as z}from"./solid-DK4Op-bj.js";import{H as B}from"./header-DI6D9RT9.js";import{a as I}from"./config-context-Q3u4V4NV.js";import{M as J}from"./meta-tags-BG8DUvE0.js";import{i as K}from"./sparkstone-logo-full-Cam5si_d.js";import"./index-C2Z4RrAX.js";const L="_formContainer_cdu7h_1",Q="_submittedOverlay_cdu7h_6",D={formContainer:L,submittedOverlay:Q};var U=y("<main class=container><!$><!/><!$><!/><hr><div style=max-width:40rem;margin:auto><h2>Reach Out</h2><p>This form sends an email directly to us. We read every message and do our best to respond thoughtfully, even if it takes a little time.</p><p>You don’t need a perfectly formed pitch. A few sentences about what you’re thinking or struggling with is more than enough.</p><!$><!/>"),V=y("<div><div><h2>Thank you for reaching out</h2><p>We'll get back to you as soon as we can"),X=y("<article><!$><!/><form><label><p>Name</p><input type=string name=name required><small class=error></small></label><label><p>Email</p><input type=email name=email required><small class=error></small></label><label><p>Message</p><textarea name=message rows=5 required></textarea><small class=error></small></label><small class=error style=display:block></small><button>Submit Request");function se(v){return(()=>{var n=x(U),r=n.firstChild,[o,g]=_(r.nextSibling),$=o.nextSibling,[c,h]=_($.nextSibling),S=c.nextSibling,t=S.nextSibling,p=t.firstChild,e=p.nextSibling,l=e.nextSibling,s=l.nextSibling,[m,u]=_(s.nextSibling);return a(n,f(J,{title:"Sparkstone Contact",get url(){return v.location.pathname},description:"Get in touch with us for questions, ideas, or problems you're trying to work through."}),o,g),a(n,f(B,{}),c,h),a(t,f(Z,{}),m,u),n})()}function Z(v){const{formSubmit:n,errors:r,validate:o,isSubmitted:g,isSubmitting:$}=G();let c=0;const h=K();Y(()=>{c=Date.now()});async function S(t){if(Date.now()<c+1e3)return t.reset(),console.log("reset"),{form:""};try{const e=await I(),l=Object.fromEntries(new FormData(t).entries()),s=await e.client.email.prepareTemplate("Emails","contact_response_email.md",l),m=e.client.email.prepareTemplate("Emails","contact_email.md",l);let u=e.client.email.send({to:["consulting@sparkstonepdx.com"],template:m}),d=e.client.email.send({to:[l.email],template:s});await Promise.all([u,d]),h("/thanks/contact")}catch(e){return console.error(e),{form:e.toString()}}}return(()=>{var t=x(X),p=t.firstChild,[e,l]=_(p.nextSibling),s=e.nextSibling,m=s.firstChild,u=m.firstChild,d=u.nextSibling,P=d.nextSibling,w=m.nextSibling,R=w.firstChild,C=R.nextSibling,j=C.nextSibling,k=w.nextSibling,F=k.firstChild,E=F.nextSibling,H=E.nextSibling,T=k.nextSibling,W=T.nextSibling;return a(t,f(z,{get when(){return g()},get children(){var i=x(V);return N(()=>M(i,D.submittedOverlay)),i}}),e,l),b(n,s,()=>S),b(o,d,()=>!0),a(P,()=>r.name),b(o,C,()=>!0),a(j,()=>r.email),b(o,E,()=>!0),a(H,()=>r.message),a(T,()=>r.form),N(i=>{var O=`card ${D.formContainer}`,q=$()||g();return O!==i.e&&M(t,i.e=O),q!==i.t&&A(W,"disabled",i.t=q),i},{e:void 0,t:void 0}),t})()}export{se as default};
