import{s as p}from"./web-y9Kcdmxi.js";import{y as v,n as y,k as N,j as T,f as b,b as O,s as g}from"./solid-DK4Op-bj.js";const C=N(),x=["title","meta"],m=[],u=["name","http-equiv","content","charset","media"].concat(["property"]),h=(t,n)=>{const e=Object.fromEntries(Object.entries(t.props).filter(([r])=>n.includes(r)).sort());return(Object.hasOwn(e,"name")||Object.hasOwn(e,"property"))&&(e.name=e.name||e.property,delete e.property),t.tag+JSON.stringify(e)};function E(){if(!g.context){const e=document.head.querySelectorAll("[data-sm]");Array.prototype.forEach.call(e,r=>r.parentNode.removeChild(r))}const t=new Map;function n(e){if(e.ref)return e.ref;let r=document.querySelector(`[data-sm="${e.id}"]`);return r?(r.tagName.toLowerCase()!==e.tag&&(r.parentNode&&r.parentNode.removeChild(r),r=document.createElement(e.tag)),r.removeAttribute("data-sm")):r=document.createElement(e.tag),r}return{addTag(e){if(x.indexOf(e.tag)!==-1){const d=e.tag==="title"?m:u,a=h(e,d);t.has(a)||t.set(a,[]);let o=t.get(a),f=o.length;o=[...o,e],t.set(a,o);let c=n(e);e.ref=c,p(c,e.props);let i=null;for(var r=f-1;r>=0;r--)if(o[r]!=null){i=o[r];break}return c.parentNode!=document.head&&document.head.appendChild(c),i&&i.ref&&i.ref.parentNode&&document.head.removeChild(i.ref),f}let s=n(e);return e.ref=s,p(s,e.props),s.parentNode!=document.head&&document.head.appendChild(s),-1},removeTag(e,r){const s=e.tag==="title"?m:u,d=h(e,s);if(e.ref){const a=t.get(d);if(a){if(e.ref.parentNode){e.ref.parentNode.removeChild(e.ref);for(let o=r-1;o>=0;o--)a[o]!=null&&document.head.appendChild(a[o].ref)}a[r]=null,t.set(d,a)}else e.ref.parentNode&&e.ref.parentNode.removeChild(e.ref)}}}}const j=t=>{const n=E();return O(C.Provider,{value:n,get children(){return t.children}})},l=(t,n,e)=>(M({tag:t,props:n,setting:e,id:v(),get name(){return n.name||n.property}}),null);function M(t){const n=y(C);if(!n)throw new Error("<MetaProvider /> should be in the tree");T(()=>{const e=n.addTag(t);b(()=>n.removeTag(t,e))})}const k=t=>l("title",t,{escape:!0,close:!0}),q=t=>l("meta",t),A=t=>l("link",t);export{A as L,j as M,k as T,q as a};
