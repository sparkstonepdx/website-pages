import{g as S,a as d,i as r,t as x,e as R,u as b,c as U}from"./web-D4Sjcv9r.js";import{n as W}from"./main.modern-eBdi_iJh.js";import{b as u,p as A,j as D,S as B}from"./solid-DLBwXPei.js";import{H as G}from"./header-CFXEC0Xl.js";import{a as J,g as Y}from"./config-context-CcAN8da0.js";import{M as z}from"./meta-tags-RMGyeail.js";import{F as I}from"./footer-zQqBeX2X.js";import{i as K}from"./sparkstone-logo-full-Cf9JLMKG.js";const Q="_formContainer_cdu7h_1",V="_submittedOverlay_cdu7h_6",E={formContainer:Q,submittedOverlay:V};var X=x("<main class=container><!$><!/><!$><!/><hr><div style=max-width:40rem;margin:auto><h2>Reach Out</h2><p>This form sends an email directly to us. We read every message and do our best to respond thoughtfully, even if it takes a little time.</p><p>You don’t need a perfectly formed pitch. A few sentences about what you’re thinking or struggling with is more than enough.</p><!$><!/>"),Z=x("<div><div><h2>Thank you for reaching out</h2><p>We'll get back to you as soon as we can"),ee=x("<article><!$><!/><form><label><p>Name</p><input type=string name=name required><small class=error></small></label><label><p>Email</p><input type=email name=email required><small class=error></small></label><label><p>Message</p><textarea name=message rows=5 required></textarea><small class=error></small></label><small class=error style=display:block></small><button>Submit Request");function ue(w){return[(()=>{var a=S(X),l=a.firstChild,[o,c]=d(l.nextSibling),h=o.nextSibling,[s,_]=d(h.nextSibling),$=s.nextSibling,e=$.nextSibling,g=e.firstChild,n=g.nextSibling,m=n.nextSibling,t=m.nextSibling,[f,p]=d(t.nextSibling);return r(a,u(z,{title:"Sparkstone Contact",get url(){return w.location.pathname},description:"Get in touch with us for questions, ideas, or problems you're trying to work through."}),o,c),r(a,u(G,{}),s,_),r(e,u(te,{}),f,p),a})(),u(I,{})]}function te(w){const{formSubmit:a,errors:l,validate:o,isSubmitted:c,isSubmitting:h}=W();let s=0;const _=K();A(()=>{s=Date.now()});async function $(e){if(Date.now()<s+1e3)return e.reset(),console.log("reset"),{form:""};try{const n=await J(),m=Object.fromEntries(new FormData(e).entries());await fetch(new URL("/emails/contact",Y(n)),{method:"post",body:JSON.stringify(m)}).then(async t=>{if(t.ok)return t;throw t.status>=500?{form:"Something went wrong"}:t.status===400?await t.json():{form:"Something went wrong"}}),_("/thanks/contact")}catch(n){return console.error(n),n}}return(()=>{var e=S(ee),g=e.firstChild,[n,m]=d(g.nextSibling),t=n.nextSibling,f=t.firstChild,p=f.firstChild,y=p.nextSibling,F=y.nextSibling,v=f.nextSibling,T=v.firstChild,C=T.nextSibling,j=C.nextSibling,k=v.nextSibling,H=k.firstChild,O=H.nextSibling,L=O.nextSibling,N=k.nextSibling,P=N.nextSibling;return r(e,u(B,{get when(){return c()},get children(){var i=S(Z);return D(()=>R(i,E.submittedOverlay)),i}}),n,m),b(a,t,()=>$),b(o,y,()=>!0),r(F,()=>l.name),b(o,C,()=>!0),r(j,()=>l.email),b(o,O,()=>!0),r(L,()=>l.message),r(N,()=>l.form),D(i=>{var q=`card ${E.formContainer}`,M=h()||c();return q!==i.e&&R(e,i.e=q),M!==i.t&&U(P,"disabled",i.t=M),i},{e:void 0,t:void 0}),e})()}export{ue as default};
