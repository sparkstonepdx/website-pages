import{g as x,a as f,i as a,t as y,e as M,u as _,c as A}from"./web-D4Sjcv9r.js";import{n as G}from"./main.modern-eBdi_iJh.js";import{b as g,p as Y,j as N,S as z}from"./solid-DLBwXPei.js";import{H as B}from"./header-CFXEC0Xl.js";import{a as I}from"./config-context-BhfqCUrO.js";import{M as J}from"./meta-tags-RMGyeail.js";import{F as K}from"./footer-zQqBeX2X.js";import{i as L}from"./sparkstone-logo-full-Cf9JLMKG.js";const Q="_formContainer_cdu7h_1",U="_submittedOverlay_cdu7h_6",D={formContainer:Q,submittedOverlay:U};var V=y("<main class=container><!$><!/><!$><!/><hr><div style=max-width:40rem;margin:auto><h2>Reach Out</h2><p>This form sends an email directly to us. We read every message and do our best to respond thoughtfully, even if it takes a little time.</p><p>You don’t need a perfectly formed pitch. A few sentences about what you’re thinking or struggling with is more than enough.</p><!$><!/>"),X=y("<div><div><h2>Thank you for reaching out</h2><p>We'll get back to you as soon as we can"),Z=y("<article><!$><!/><form><label><p>Name</p><input type=string name=name required><small class=error></small></label><label><p>Email</p><input type=email name=email required><small class=error></small></label><label><p>Message</p><textarea name=message rows=5 required></textarea><small class=error></small></label><small class=error style=display:block></small><button>Submit Request");function me(v){return[(()=>{var n=x(V),r=n.firstChild,[o,p]=f(r.nextSibling),$=o.nextSibling,[c,h]=f($.nextSibling),S=c.nextSibling,t=S.nextSibling,d=t.firstChild,e=d.nextSibling,l=e.nextSibling,s=l.nextSibling,[m,u]=f(s.nextSibling);return a(n,g(J,{title:"Sparkstone Contact",get url(){return v.location.pathname},description:"Get in touch with us for questions, ideas, or problems you're trying to work through."}),o,p),a(n,g(B,{}),c,h),a(t,g(ee,{}),m,u),n})(),g(K,{})]}function ee(v){const{formSubmit:n,errors:r,validate:o,isSubmitted:p,isSubmitting:$}=G();let c=0;const h=L();Y(()=>{c=Date.now()});async function S(t){if(Date.now()<c+1e3)return t.reset(),console.log("reset"),{form:""};try{const e=await I(),l=Object.fromEntries(new FormData(t).entries()),s=await e.client.email.prepareTemplate("Emails","contact_response_email.md",l),m=e.client.email.prepareTemplate("Emails","contact_email.md",l);let u=e.client.email.send({to:["consulting@sparkstonepdx.com"],template:m}),b=e.client.email.send({to:[l.email],template:s});await Promise.all([u,b]),h("/thanks/contact")}catch(e){return console.error(e),{form:e.toString()}}}return(()=>{var t=x(Z),d=t.firstChild,[e,l]=f(d.nextSibling),s=e.nextSibling,m=s.firstChild,u=m.firstChild,b=u.nextSibling,F=b.nextSibling,w=m.nextSibling,P=w.firstChild,C=P.nextSibling,R=C.nextSibling,k=w.nextSibling,j=k.firstChild,E=j.nextSibling,H=E.nextSibling,T=k.nextSibling,W=T.nextSibling;return a(t,g(z,{get when(){return p()},get children(){var i=x(X);return N(()=>M(i,D.submittedOverlay)),i}}),e,l),_(n,s,()=>S),_(o,b,()=>!0),a(F,()=>r.name),_(o,C,()=>!0),a(R,()=>r.email),_(o,E,()=>!0),a(H,()=>r.message),a(T,()=>r.form),N(i=>{var O=`card ${D.formContainer}`,q=$()||p();return O!==i.e&&M(t,i.e=O),q!==i.t&&A(W,"disabled",i.t=q),i},{e:void 0,t:void 0}),t})()}export{me as default};
