import{g as x,a as _,i as n,t as v,e as M,u as b,c as G}from"./web-y9Kcdmxi.js";import{n as Y}from"./main.modern-BhBL8ptw.js";import{b as f,p as z,j as N,S as B}from"./solid-DK4Op-bj.js";import{H as I}from"./header-DI6D9RT9.js";import{a as J}from"./config-context-DLL1emZG.js";import{M as K}from"./meta-tags-BMwM1w6Q.js";import{i as L}from"./sparkstone-logo-full-Cam5si_d.js";import"./index-C2Z4RrAX.js";const Q="_formContainer_cdu7h_1",U="_submittedOverlay_cdu7h_6",D={formContainer:Q,submittedOverlay:U};var V=v("<main class=container><!$><!/><!$><!/><hr><div style=max-width:40rem;margin:auto><h2>Reach Out</h2><p>This form sends an email directly to us. We read every message and do our best to respond thoughtfully, even if it takes a little time.</p><p>You don’t need a perfectly formed pitch. A few sentences about what you’re thinking or struggling with is more than enough.</p><!$><!/>"),X=v("<div><div><h2>Thank you for reaching out</h2><p>We'll get back to you as soon as we can"),Z=v("<article><!$><!/><form><label><p>Name</p><input type=string name=name required><small class=error></small></label><label><p>Email</p><input type=email name=email required><small class=error></small></label><label><p>Message</p><textarea name=message rows=5 required></textarea><small class=error></small></label><small class=error></small><br><button>Submit Request");function me(y){return(()=>{var l=x(V),r=l.firstChild,[o,g]=_(r.nextSibling),$=o.nextSibling,[c,h]=_($.nextSibling),S=c.nextSibling,t=S.nextSibling,p=t.firstChild,e=p.nextSibling,a=e.nextSibling,s=a.nextSibling,[m,u]=_(s.nextSibling);return n(l,f(K,{title:"Sparkstone Contact",get url(){return y.location.pathname},description:"Get in touch with us for questions, ideas, or problems you're trying to work through."}),o,g),n(l,f(I,{}),c,h),n(t,f(ee,{}),m,u),l})()}function ee(y){const{formSubmit:l,errors:r,validate:o,isSubmitted:g,isSubmitting:$}=Y();let c=0;const h=L();z(()=>{c=Date.now()});async function S(t){if(Date.now()<c+1e3)return t.reset(),console.log("reset"),{form:""};try{const e=await J(),a=Object.fromEntries(new FormData(t).entries()),s=await e.client.email.prepareTemplate("Emails","contact_response_email.md",a),m=e.client.email.prepareTemplate("Emails","contact_email.md",a);let u=e.client.email.send({to:["consulting@sparkstonepdx.com"],template:m}),d=e.client.email.send({to:[a.email],template:s});await Promise.all([u,d]),h("/thanks/contact")}catch(e){return console.error(e),{form:e.toString()}}}return(()=>{var t=x(Z),p=t.firstChild,[e,a]=_(p.nextSibling),s=e.nextSibling,m=s.firstChild,u=m.firstChild,d=u.nextSibling,P=d.nextSibling,w=m.nextSibling,R=w.firstChild,C=R.nextSibling,j=C.nextSibling,k=w.nextSibling,F=k.firstChild,E=F.nextSibling,H=E.nextSibling,T=k.nextSibling,W=T.nextSibling,A=W.nextSibling;return n(t,f(B,{get when(){return g()},get children(){var i=x(X);return N(()=>M(i,D.submittedOverlay)),i}}),e,a),b(l,s,()=>S),b(o,d,()=>!0),n(P,()=>r.name),b(o,C,()=>!0),n(j,()=>r.email),b(o,E,()=>!0),n(H,()=>r.message),n(T,()=>r.form),N(i=>{var O=`card ${D.formContainer}`,q=$()||g();return O!==i.e&&M(t,i.e=O),q!==i.t&&G(A,"disabled",i.t=q),i},{e:void 0,t:void 0}),t})()}export{me as default};
