import{g as S,a as d,i,t as x,e as R,u as b,c as U}from"./web-BBvT38jz.js";import{n as W}from"./main.modern-OqqPJ8ov.js";import{b as u,q as A,k as D,S as B}from"./solid-B45ZUGaf.js";import{H as G}from"./header-CpONEogC.js";import{a as J,g as Y}from"./config-context-D6eWdJPs.js";import{M as z}from"./meta-tags-CzfwemU9.js";import{F as I}from"./footer-Dlcj4GqA.js";import{j as K}from"./sparkstone-logo-full-CMRMyzg4.js";const Q="_formContainer_cdu7h_1",V="_submittedOverlay_cdu7h_6",E={formContainer:Q,submittedOverlay:V};var X=x("<main class=container><!$><!/><!$><!/><hr><div style=max-width:40rem;margin:auto><h2>Reach Out</h2><p>This form sends an email directly to us. We read every message and do our best to respond thoughtfully, even if it takes a little time.</p><p>You don’t need a perfectly formed pitch. A few sentences about what you’re thinking or struggling with is more than enough.</p><!$><!/>"),Z=x("<div><div><h2>Thank you for reaching out</h2><p>We'll get back to you as soon as we can"),ee=x("<article><!$><!/><form><label><p>Name</p><input type=string name=name required><small class=error></small></label><label><p>Email</p><input type=email name=email required><small class=error></small></label><label><p>Message</p><textarea name=message rows=5 required></textarea><small class=error></small></label><small class=error style=display:block></small><button>Submit Request");function ue(w){return[(()=>{var a=S(X),l=a.firstChild,[o,c]=d(l.nextSibling),h=o.nextSibling,[s,_]=d(h.nextSibling),$=s.nextSibling,e=$.nextSibling,g=e.firstChild,n=g.nextSibling,m=n.nextSibling,t=m.nextSibling,[f,p]=d(t.nextSibling);return i(a,u(z,{title:"Sparkstone Contact",get url(){return w.location.pathname},description:"Get in touch with us for questions, ideas, or problems you're trying to work through."}),o,c),i(a,u(G,{}),s,_),i(e,u(te,{}),f,p),a})(),u(I,{})]}function te(w){const{formSubmit:a,errors:l,validate:o,isSubmitted:c,isSubmitting:h}=W();let s=0;const _=K();A(()=>{s=Date.now()});async function $(e){if(Date.now()<s+1e3)return e.reset(),console.log("reset"),{form:""};try{const n=await J(),m=Object.fromEntries(new FormData(e).entries());await fetch(new URL("/emails/contact",Y(n)),{method:"post",body:JSON.stringify(m)}).then(async t=>{if(t.ok)return t;throw t.status>=500?{form:"Something went wrong"}:t.status===400?await t.json():{form:"Something went wrong"}}),_("/thanks/contact")}catch(n){return console.error(n),n}}return(()=>{var e=S(ee),g=e.firstChild,[n,m]=d(g.nextSibling),t=n.nextSibling,f=t.firstChild,p=f.firstChild,y=p.nextSibling,F=y.nextSibling,v=f.nextSibling,T=v.firstChild,C=T.nextSibling,j=C.nextSibling,k=v.nextSibling,H=k.firstChild,O=H.nextSibling,L=O.nextSibling,q=k.nextSibling,P=q.nextSibling;return i(e,u(B,{get when(){return c()},get children(){var r=S(Z);return D(()=>R(r,E.submittedOverlay)),r}}),n,m),b(a,t,()=>$),b(o,y,()=>!0),i(F,()=>l.name),b(o,C,()=>!0),i(j,()=>l.email),b(o,O,()=>!0),i(L,()=>l.message),i(q,()=>l.form),D(r=>{var N=`card ${E.formContainer}`,M=h()||c();return N!==r.e&&R(e,r.e=N),M!==r.t&&U(P,"disabled",r.t=M),r},{e:void 0,t:void 0}),e})()}export{ue as default};
