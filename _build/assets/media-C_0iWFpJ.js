import{g as o,t as c,a as b,i as s,e as p,b as E,r as M,d as N}from"./web-D4Sjcv9r.js";import{b as a,h as j,M as x,j as S,r as F,F as I}from"./solid-DLBwXPei.js";import{H as k}from"./header-CFXEC0Xl.js";import{u as H}from"./config-context-RfAPyplx.js";import{S as R}from"./showWhenResource-ZDhNv2nG.js";import{i as T,h as A}from"./sparkstone-logo-full-Cf9JLMKG.js";import"./handlebars-C7IZMBRA.js";const w={"image-container":"_image-container_vuqi6_1"};var G=c("<div><img style=aspect-ratio:1;max-width:100%;height:100%;object-fit:contain;>"),O=c("<div>"),P=c("<article class=card><!$><!/><hr><p style=margin:0>");const W=[".apng",".avif",".bmp",".gif",".ico",".jpg",".jpeg",".png",".svg",".webp"];function q(r){const g=()=>{const e=r.file.toLowerCase();return W.find(t=>e.endsWith(t))},f=()=>{let e=r.file.lastIndexOf(".");if(e>-1)return r.file.slice(e+1).toUpperCase()};return(()=>{var e=o(P),t=e.firstChild,[l,m]=b(t.nextSibling),h=l.nextSibling,$=h.nextSibling;return s(e,a(j,{get children(){return[a(x,{get when(){return g()},get children(){var i=o(G),_=i.firstChild;return S(n=>{var d=w["image-container"],u=r.root+"/"+r.file;return d!==n.e&&p(i,n.e=d),u!==n.t&&E(_,"src",n.t=u),n},{e:void 0,t:void 0}),i}}),a(x,{when:!0,get children(){var i=o(O);return s(i,f),S(()=>p(i,w["image-container"])),i}})]}}),l,m),s($,()=>r.file),e})()}var L=c('<div style="display:grid;gap:1rem;grid-template-columns:repeat(auto-fit, minmax(15rem, 1fr));">'),U=c("<main class=container><!$><!/><hr><button class=ghost>Collections</button><button disabled class=ghost>Media</button><hr><!$><!/>");function V(r){const[g]=H(),f=T();A();const[e]=F(g,t=>fetch(`http://localhost:4050/storage/ls${t.media_folder}`).then(l=>l.json()));return(()=>{var t=o(U),l=t.firstChild,[m,h]=b(l.nextSibling),$=m.nextSibling,i=$.nextSibling,_=i.nextSibling,n=_.nextSibling,d=n.nextSibling,[u,y]=b(d.nextSibling);return s(t,a(k,{}),m,h),i.$$click=()=>f("/admin"),s(t,a(R,{resources:[e],get children(){var v=o(L);return s(v,a(I,{get each(){return e()},children:C=>a(q,{file:C,get root(){return globalThis.origin+g().public_folder}})})),v}}),u,y),M(),t})()}N(["click"]);export{V as default};
